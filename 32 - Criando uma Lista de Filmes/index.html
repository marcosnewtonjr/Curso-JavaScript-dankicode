<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Filmes</title>
</head>
<body>

    <div class="container">

    </div>

    <script>
        fetch('https://api.themoviedb.org/3/movie/popular?api_key=506fadb0256c13349acc05dabebf9604&language=en-US&page=1', {method:'GET'})
        .then(response => response.json())
        .then(function(json){
            // console.log(json)
            var container = document.querySelector('.container')

            json.results.map(function(val){
                container.innerHTML+= `
                <div class='titulo'>
                    <p style='cursor:pointer'><strong>${val.title}</strong></p>
                    <div class='sinopse' style='display:none'>${val.overview}</div><hr>
                </div>`
            })

            var titulo = document.querySelectorAll('.titulo');
            var sinopse = document.querySelectorAll('.sinopse');
            
            titulo.forEach((item,index) => {
                titulo[index].addEventListener('click',function() {
                    if (sinopse[index].style.display == 'none') {
                        sinopse[index].style.display = 'block'
                    } else {
                        sinopse[index].style.display = 'none'
                    }                    
                })
            })
        })
    </script>
</body>
</html>